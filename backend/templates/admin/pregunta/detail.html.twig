{% extends 'admin/layout.html.twig' %}

{% block page_title %}Detalle de Pregunta{% endblock %}

{% block content %}
    <div class="mb-3">
        <a href="{{ path('admin_pregunta_index') }}" class="btn btn-secondary">
            <i class="fa fa-arrow-left"></i> Volver
        </a>
        <a href="{{ path('admin_pregunta_edit', {id: pregunta.id}) }}" class="btn btn-warning">
            <i class="fa fa-edit"></i> Editar
        </a>
    </div>

    <div class="card">
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">ID:</dt>
                <dd class="col-sm-9">{{ pregunta.id }}</dd>

                <dt class="col-sm-3">Texto:</dt>
                <dd class="col-sm-9">{{ pregunta.texto }}</dd>

                <dt class="col-sm-3">Dificultad:</dt>
                <dd class="col-sm-9">
                    <span class="badge bg-{{ pregunta.dificultad == 1 ? 'success' : (pregunta.dificultad == 2 ? 'warning' : 'danger') }}">
                        {% if pregunta.dificultad == 1 %}Fácil
                        {% elseif pregunta.dificultad == 2 %}Medio
                        {% else %}Difícil
                        {% endif %}
                    </span>
                </dd>

                <dt class="col-sm-3">Fecha de Creación:</dt>
                <dd class="col-sm-9">{{ pregunta.createdAt ? pregunta.createdAt|date('d/m/Y H:i:s') : '-' }}</dd>

                <dt class="col-sm-3">Respuestas:</dt>
                <dd class="col-sm-9">
                    {% if pregunta.respuestas|length > 0 %}
                        <ul class="list-group">
                            {% for respuesta in pregunta.respuestas %}
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    {{ respuesta.texto }}
                                    <span class="badge bg-{{ respuesta.esCorrecta ? 'success' : 'danger' }}">
                                        {{ respuesta.esCorrecta ? 'Correcta' : 'Incorrecta' }}
                                    </span>
                                </li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <em class="text-muted">No hay respuestas registradas</em>
                    {% endif %}
                </dd>
            </dl>
        </div>
    </div>
{% endblock %}
